From cbab5ce8303f9c223a04c1ea232e3c81da642663 Mon Sep 17 00:00:00 2001
From: Mikolaj Izdebski <mizdebsk@redhat.com>
Date: Thu, 19 Dec 2013 13:59:27 +0100
Subject: [PATCH 1/4] Port to Maven 3.0.5 and Sonatype Aether

[backport-feature-maven-3.0.5]
---
 xmvn-connector/pom.xml                                        |  2 +-
 .../maven/connector/FedoraPluginVersionResolver.java          |  6 +++---
 .../fedoraproject/maven/connector/FedoraWorkspaceReader.java  |  6 +++---
 xmvn-core/pom.xml                                             |  6 +++++-
 .../maven/dependency/DependencyExtractionResult.java          |  2 +-
 .../maven/dependency/impl/BuildDependencyVisitor.java         |  4 ++--
 .../dependency/impl/DefaultDependencyExtractionResult.java    |  2 +-
 .../fedoraproject/maven/installer/InstallationRequest.java    |  2 +-
 .../fedoraproject/maven/installer/impl/DefaultInstaller.java  |  4 ++--
 .../org/fedoraproject/maven/installer/impl/FragmentFile.java  |  2 +-
 .../java/org/fedoraproject/maven/installer/impl/Package.java  |  4 ++--
 .../java/org/fedoraproject/maven/repository/Repository.java   |  2 +-
 .../maven/repository/impl/AbstractRepository.java             |  2 +-
 .../maven/repository/impl/CompoundRepository.java             |  2 +-
 .../fedoraproject/maven/repository/impl/SimpleRepository.java |  2 +-
 .../org/fedoraproject/maven/resolver/ArtifactBlacklist.java   |  2 +-
 .../java/org/fedoraproject/maven/resolver/DependencyMap.java  |  2 +-
 .../org/fedoraproject/maven/resolver/ResolutionRequest.java   |  4 ++--
 .../main/java/org/fedoraproject/maven/resolver/Resolver.java  |  2 +-
 .../maven/resolver/impl/DefaultArtifactBlacklist.java         |  4 ++--
 .../maven/resolver/impl/DefaultDependencyMap.java             |  4 ++--
 .../fedoraproject/maven/resolver/impl/DefaultResolver.java    |  4 ++--
 .../org/fedoraproject/maven/resolver/impl/DepmapReader.java   |  4 ++--
 .../java/org/fedoraproject/maven/utils/ArtifactUtils.java     |  8 ++++----
 .../maven/dependency/AbstractDependencyTest.java              |  4 ++--
 .../fedoraproject/maven/installer/AbstractInstallerTest.java  |  4 ++--
 .../fedoraproject/maven/installer/BasicIvyInstallerTest.java  |  4 ++--
 .../maven/installer/IvyInstallerExclusionTest.java            |  4 ++--
 .../fedoraproject/maven/repository/FlatRepositoryTest.java    |  4 ++--
 .../org/fedoraproject/maven/repository/JppRepositoryTest.java |  4 ++--
 .../java/org/fedoraproject/maven/repository/LayoutTest.java   |  4 ++--
 .../fedoraproject/maven/repository/MavenRepositoryTest.java   |  4 ++--
 .../java/org/fedoraproject/maven/repository/MyRepository.java |  2 +-
 .../maven/repository/NestedRepositoriesTest.java              |  4 ++--
 .../java/org/fedoraproject/maven/resolver/DepmapTest.java     |  4 ++--
 xmvn-mojo/pom.xml                                             |  6 +++++-
 .../fedoraproject/maven/rpminstall/plugin/BuilddepMojo.java   |  2 +-
 .../fedoraproject/maven/rpminstall/plugin/InstallMojo.java    |  4 ++--
 .../java/org/fedoraproject/maven/rpminstall/plugin/Utils.java |  4 ++--
 xmvn-parent/pom.xml                                           | 11 ++++++++---
 xmvn-tools/xmvn-install/pom.xml                               |  6 +++++-
 .../org/fedoraproject/maven/tools/installer/InstallerCli.java |  4 ++--
 xmvn-tools/xmvn-resolve/pom.xml                               |  6 +++++-
 .../org/fedoraproject/maven/tools/resolver/ResolverCli.java   |  4 ++--
 xmvn-tools/xmvn-subst/pom.xml                                 |  6 +++++-
 .../org/fedoraproject/maven/tools/subst/ArtifactVisitor.java  |  4 ++--
 46 files changed, 103 insertions(+), 78 deletions(-)

diff --git a/xmvn-connector/pom.xml b/xmvn-connector/pom.xml
index 19d0125..8b50535 100644
--- a/xmvn-connector/pom.xml
+++ b/xmvn-connector/pom.xml
@@ -56,7 +56,7 @@
       <artifactId>maven-artifact</artifactId>
     </dependency>
     <dependency>
-      <groupId>org.eclipse.aether</groupId>
+      <groupId>org.sonatype.aether</groupId>
       <artifactId>aether-api</artifactId>
     </dependency>
     <dependency>
diff --git a/xmvn-connector/src/main/java/org/fedoraproject/maven/connector/FedoraPluginVersionResolver.java b/xmvn-connector/src/main/java/org/fedoraproject/maven/connector/FedoraPluginVersionResolver.java
index f2ef618..2c5f3ff 100644
--- a/xmvn-connector/src/main/java/org/fedoraproject/maven/connector/FedoraPluginVersionResolver.java
+++ b/xmvn-connector/src/main/java/org/fedoraproject/maven/connector/FedoraPluginVersionResolver.java
@@ -19,10 +19,10 @@ import org.apache.maven.plugin.version.PluginVersionRequest;
 import org.apache.maven.plugin.version.PluginVersionResolver;
 import org.apache.maven.plugin.version.PluginVersionResult;
 import org.codehaus.plexus.component.annotations.Component;
-import org.eclipse.aether.RepositorySystemSession;
-import org.eclipse.aether.repository.ArtifactRepository;
-import org.eclipse.aether.repository.WorkspaceReader;
 import org.fedoraproject.maven.utils.ArtifactUtils;
+import org.sonatype.aether.RepositorySystemSession;
+import org.sonatype.aether.repository.ArtifactRepository;
+import org.sonatype.aether.repository.WorkspaceReader;
 
 /**
  * @author Mikolaj Izdebski
diff --git a/xmvn-connector/src/main/java/org/fedoraproject/maven/connector/FedoraWorkspaceReader.java b/xmvn-connector/src/main/java/org/fedoraproject/maven/connector/FedoraWorkspaceReader.java
index 09499ed..cb05729 100644
--- a/xmvn-connector/src/main/java/org/fedoraproject/maven/connector/FedoraWorkspaceReader.java
+++ b/xmvn-connector/src/main/java/org/fedoraproject/maven/connector/FedoraWorkspaceReader.java
@@ -21,13 +21,13 @@ import java.util.List;
 
 import org.codehaus.plexus.component.annotations.Component;
 import org.codehaus.plexus.component.annotations.Requirement;
-import org.eclipse.aether.artifact.Artifact;
-import org.eclipse.aether.repository.WorkspaceReader;
-import org.eclipse.aether.repository.WorkspaceRepository;
 import org.fedoraproject.maven.resolver.ResolutionRequest;
 import org.fedoraproject.maven.resolver.ResolutionResult;
 import org.fedoraproject.maven.resolver.Resolver;
 import org.fedoraproject.maven.utils.ArtifactUtils;
+import org.sonatype.aether.artifact.Artifact;
+import org.sonatype.aether.repository.WorkspaceReader;
+import org.sonatype.aether.repository.WorkspaceRepository;
 
 /**
  * @author Mikolaj Izdebski
diff --git a/xmvn-core/pom.xml b/xmvn-core/pom.xml
index 79a8320..f7b9db3 100644
--- a/xmvn-core/pom.xml
+++ b/xmvn-core/pom.xml
@@ -34,10 +34,14 @@
   </description>
   <dependencies>
     <dependency>
-      <groupId>org.eclipse.aether</groupId>
+      <groupId>org.sonatype.aether</groupId>
       <artifactId>aether-api</artifactId>
     </dependency>
     <dependency>
+      <groupId>org.sonatype.aether</groupId>
+      <artifactId>aether-util</artifactId>
+    </dependency>
+    <dependency>
       <groupId>org.apache.maven</groupId>
       <artifactId>maven-model</artifactId>
     </dependency>
diff --git a/xmvn-core/src/main/java/org/fedoraproject/maven/dependency/DependencyExtractionResult.java b/xmvn-core/src/main/java/org/fedoraproject/maven/dependency/DependencyExtractionResult.java
index 2c59307..2519655 100644
--- a/xmvn-core/src/main/java/org/fedoraproject/maven/dependency/DependencyExtractionResult.java
+++ b/xmvn-core/src/main/java/org/fedoraproject/maven/dependency/DependencyExtractionResult.java
@@ -17,7 +17,7 @@ package org.fedoraproject.maven.dependency;
 
 import java.util.Set;
 
-import org.eclipse.aether.artifact.Artifact;
+import org.sonatype.aether.artifact.Artifact;
 
 /**
  * @author Mikolaj Izdebski
diff --git a/xmvn-core/src/main/java/org/fedoraproject/maven/dependency/impl/BuildDependencyVisitor.java b/xmvn-core/src/main/java/org/fedoraproject/maven/dependency/impl/BuildDependencyVisitor.java
index 8e330e8..b3df62d 100644
--- a/xmvn-core/src/main/java/org/fedoraproject/maven/dependency/impl/BuildDependencyVisitor.java
+++ b/xmvn-core/src/main/java/org/fedoraproject/maven/dependency/impl/BuildDependencyVisitor.java
@@ -25,10 +25,10 @@ import org.apache.maven.model.Extension;
 import org.apache.maven.model.Parent;
 import org.apache.maven.model.Plugin;
 import org.codehaus.plexus.util.StringUtils;
-import org.eclipse.aether.artifact.Artifact;
-import org.eclipse.aether.artifact.DefaultArtifact;
 import org.fedoraproject.maven.model.AbstractModelVisitor;
 import org.fedoraproject.maven.utils.ArtifactUtils;
+import org.sonatype.aether.artifact.Artifact;
+import org.sonatype.aether.util.artifact.DefaultArtifact;
 
 /**
  * @author Mikolaj Izdebski
diff --git a/xmvn-core/src/main/java/org/fedoraproject/maven/dependency/impl/DefaultDependencyExtractionResult.java b/xmvn-core/src/main/java/org/fedoraproject/maven/dependency/impl/DefaultDependencyExtractionResult.java
index 15be80a..ebe99ff 100644
--- a/xmvn-core/src/main/java/org/fedoraproject/maven/dependency/impl/DefaultDependencyExtractionResult.java
+++ b/xmvn-core/src/main/java/org/fedoraproject/maven/dependency/impl/DefaultDependencyExtractionResult.java
@@ -19,8 +19,8 @@ import java.util.Collections;
 import java.util.LinkedHashSet;
 import java.util.Set;
 
-import org.eclipse.aether.artifact.Artifact;
 import org.fedoraproject.maven.dependency.DependencyExtractionResult;
+import org.sonatype.aether.artifact.Artifact;
 
 /**
  * @author Mikolaj Izdebski
diff --git a/xmvn-core/src/main/java/org/fedoraproject/maven/installer/InstallationRequest.java b/xmvn-core/src/main/java/org/fedoraproject/maven/installer/InstallationRequest.java
index 7033704..0f4bfc3 100644
--- a/xmvn-core/src/main/java/org/fedoraproject/maven/installer/InstallationRequest.java
+++ b/xmvn-core/src/main/java/org/fedoraproject/maven/installer/InstallationRequest.java
@@ -20,7 +20,7 @@ import java.util.Collections;
 import java.util.LinkedHashSet;
 import java.util.Set;
 
-import org.eclipse.aether.artifact.Artifact;
+import org.sonatype.aether.artifact.Artifact;
 
 /**
  * @author Mikolaj Izdebski
diff --git a/xmvn-core/src/main/java/org/fedoraproject/maven/installer/impl/DefaultInstaller.java b/xmvn-core/src/main/java/org/fedoraproject/maven/installer/impl/DefaultInstaller.java
index e1e354d..3817c7b 100644
--- a/xmvn-core/src/main/java/org/fedoraproject/maven/installer/impl/DefaultInstaller.java
+++ b/xmvn-core/src/main/java/org/fedoraproject/maven/installer/impl/DefaultInstaller.java
@@ -48,8 +48,6 @@ import org.codehaus.plexus.component.annotations.Component;
 import org.codehaus.plexus.component.annotations.Requirement;
 import org.codehaus.plexus.logging.Logger;
 import org.codehaus.plexus.util.StringUtils;
-import org.eclipse.aether.artifact.Artifact;
-import org.eclipse.aether.artifact.DefaultArtifact;
 import org.eclipse.sisu.space.asm.ClassReader;
 import org.eclipse.sisu.space.asm.ClassVisitor;
 import org.eclipse.sisu.space.asm.MethodVisitor;
@@ -75,6 +73,8 @@ import org.fedoraproject.maven.resolver.ResolutionResult;
 import org.fedoraproject.maven.resolver.Resolver;
 import org.fedoraproject.maven.utils.ArtifactUtils;
 import org.fedoraproject.maven.utils.LoggingUtils;
+import org.sonatype.aether.artifact.Artifact;
+import org.sonatype.aether.util.artifact.DefaultArtifact;
 
 /**
  * <strong>WARNING</strong>: This class is part of internal implementation of XMvn and it is marked as public only for
diff --git a/xmvn-core/src/main/java/org/fedoraproject/maven/installer/impl/FragmentFile.java b/xmvn-core/src/main/java/org/fedoraproject/maven/installer/impl/FragmentFile.java
index 61e52dd..26199f8 100644
--- a/xmvn-core/src/main/java/org/fedoraproject/maven/installer/impl/FragmentFile.java
+++ b/xmvn-core/src/main/java/org/fedoraproject/maven/installer/impl/FragmentFile.java
@@ -28,9 +28,9 @@ import java.util.Set;
 import org.codehaus.plexus.logging.Logger;
 import org.codehaus.plexus.util.xml.pull.MXSerializer;
 import org.codehaus.plexus.util.xml.pull.XmlSerializer;
-import org.eclipse.aether.artifact.Artifact;
 import org.fedoraproject.maven.config.InstallerSettings;
 import org.fedoraproject.maven.utils.ArtifactUtils;
+import org.sonatype.aether.artifact.Artifact;
 
 /**
  * @author Mikolaj Izdebski
diff --git a/xmvn-core/src/main/java/org/fedoraproject/maven/installer/impl/Package.java b/xmvn-core/src/main/java/org/fedoraproject/maven/installer/impl/Package.java
index 3c8b2b2..104c53d 100644
--- a/xmvn-core/src/main/java/org/fedoraproject/maven/installer/impl/Package.java
+++ b/xmvn-core/src/main/java/org/fedoraproject/maven/installer/impl/Package.java
@@ -26,12 +26,12 @@ import java.util.Set;
 import java.util.TreeSet;
 
 import org.codehaus.plexus.logging.Logger;
-import org.eclipse.aether.artifact.Artifact;
-import org.eclipse.aether.artifact.DefaultArtifact;
 import org.fedoraproject.maven.config.InstallerSettings;
 import org.fedoraproject.maven.config.PackagingRule;
 import org.fedoraproject.maven.utils.ArtifactUtils;
 import org.fedoraproject.maven.utils.FileUtils;
+import org.sonatype.aether.artifact.Artifact;
+import org.sonatype.aether.util.artifact.DefaultArtifact;
 
 /**
  * @author Mikolaj Izdebski
diff --git a/xmvn-core/src/main/java/org/fedoraproject/maven/repository/Repository.java b/xmvn-core/src/main/java/org/fedoraproject/maven/repository/Repository.java
index 7199173..c1c597b 100644
--- a/xmvn-core/src/main/java/org/fedoraproject/maven/repository/Repository.java
+++ b/xmvn-core/src/main/java/org/fedoraproject/maven/repository/Repository.java
@@ -19,8 +19,8 @@ import java.util.List;
 import java.util.Properties;
 
 import org.codehaus.plexus.util.xml.Xpp3Dom;
-import org.eclipse.aether.artifact.Artifact;
 import org.fedoraproject.maven.config.Stereotype;
+import org.sonatype.aether.artifact.Artifact;
 
 /**
  * Repository of artifacts.
diff --git a/xmvn-core/src/main/java/org/fedoraproject/maven/repository/impl/AbstractRepository.java b/xmvn-core/src/main/java/org/fedoraproject/maven/repository/impl/AbstractRepository.java
index 35e3773..95de663 100644
--- a/xmvn-core/src/main/java/org/fedoraproject/maven/repository/impl/AbstractRepository.java
+++ b/xmvn-core/src/main/java/org/fedoraproject/maven/repository/impl/AbstractRepository.java
@@ -18,9 +18,9 @@ package org.fedoraproject.maven.repository.impl;
 import java.util.Collections;
 import java.util.List;
 
-import org.eclipse.aether.artifact.Artifact;
 import org.fedoraproject.maven.repository.Repository;
 import org.fedoraproject.maven.repository.RepositoryPath;
+import org.sonatype.aether.artifact.Artifact;
 
 /**
  * @author Mikolaj Izdebski
diff --git a/xmvn-core/src/main/java/org/fedoraproject/maven/repository/impl/CompoundRepository.java b/xmvn-core/src/main/java/org/fedoraproject/maven/repository/impl/CompoundRepository.java
index bd03428..c2f7f21 100644
--- a/xmvn-core/src/main/java/org/fedoraproject/maven/repository/impl/CompoundRepository.java
+++ b/xmvn-core/src/main/java/org/fedoraproject/maven/repository/impl/CompoundRepository.java
@@ -27,11 +27,11 @@ import org.codehaus.plexus.component.annotations.Component;
 import org.codehaus.plexus.component.annotations.Requirement;
 import org.codehaus.plexus.util.StringUtils;
 import org.codehaus.plexus.util.xml.Xpp3Dom;
-import org.eclipse.aether.artifact.Artifact;
 import org.fedoraproject.maven.config.RepositoryConfigurator;
 import org.fedoraproject.maven.config.Stereotype;
 import org.fedoraproject.maven.repository.Repository;
 import org.fedoraproject.maven.repository.RepositoryPath;
+import org.sonatype.aether.artifact.Artifact;
 
 /**
  * Compound repository.
diff --git a/xmvn-core/src/main/java/org/fedoraproject/maven/repository/impl/SimpleRepository.java b/xmvn-core/src/main/java/org/fedoraproject/maven/repository/impl/SimpleRepository.java
index cd7150a..ea0f7ab 100644
--- a/xmvn-core/src/main/java/org/fedoraproject/maven/repository/impl/SimpleRepository.java
+++ b/xmvn-core/src/main/java/org/fedoraproject/maven/repository/impl/SimpleRepository.java
@@ -23,10 +23,10 @@ import java.util.List;
 import java.util.Properties;
 
 import org.codehaus.plexus.util.xml.Xpp3Dom;
-import org.eclipse.aether.artifact.Artifact;
 import org.fedoraproject.maven.config.Stereotype;
 import org.fedoraproject.maven.repository.RepositoryPath;
 import org.fedoraproject.maven.utils.ArtifactUtils;
+import org.sonatype.aether.artifact.Artifact;
 
 /**
  * @author Mikolaj Izdebski
diff --git a/xmvn-core/src/main/java/org/fedoraproject/maven/resolver/ArtifactBlacklist.java b/xmvn-core/src/main/java/org/fedoraproject/maven/resolver/ArtifactBlacklist.java
index bbeeab9..dabad54 100644
--- a/xmvn-core/src/main/java/org/fedoraproject/maven/resolver/ArtifactBlacklist.java
+++ b/xmvn-core/src/main/java/org/fedoraproject/maven/resolver/ArtifactBlacklist.java
@@ -15,7 +15,7 @@
  */
 package org.fedoraproject.maven.resolver;
 
-import org.eclipse.aether.artifact.Artifact;
+import org.sonatype.aether.artifact.Artifact;
 
 /**
  * A container structure holding artifacts.
diff --git a/xmvn-core/src/main/java/org/fedoraproject/maven/resolver/DependencyMap.java b/xmvn-core/src/main/java/org/fedoraproject/maven/resolver/DependencyMap.java
index 70aa0e5..610cd17 100644
--- a/xmvn-core/src/main/java/org/fedoraproject/maven/resolver/DependencyMap.java
+++ b/xmvn-core/src/main/java/org/fedoraproject/maven/resolver/DependencyMap.java
@@ -18,7 +18,7 @@ package org.fedoraproject.maven.resolver;
 import java.util.List;
 import java.util.Set;
 
-import org.eclipse.aether.artifact.Artifact;
+import org.sonatype.aether.artifact.Artifact;
 
 /**
  * @author Mikolaj Izdebski
diff --git a/xmvn-core/src/main/java/org/fedoraproject/maven/resolver/ResolutionRequest.java b/xmvn-core/src/main/java/org/fedoraproject/maven/resolver/ResolutionRequest.java
index 2fc46b4..116041e 100644
--- a/xmvn-core/src/main/java/org/fedoraproject/maven/resolver/ResolutionRequest.java
+++ b/xmvn-core/src/main/java/org/fedoraproject/maven/resolver/ResolutionRequest.java
@@ -15,8 +15,8 @@
  */
 package org.fedoraproject.maven.resolver;
 
-import org.eclipse.aether.artifact.Artifact;
-import org.eclipse.aether.artifact.DefaultArtifact;
+import org.sonatype.aether.artifact.Artifact;
+import org.sonatype.aether.util.artifact.DefaultArtifact;
 
 /**
  * Specifies parameters of artifact resolution.
diff --git a/xmvn-core/src/main/java/org/fedoraproject/maven/resolver/Resolver.java b/xmvn-core/src/main/java/org/fedoraproject/maven/resolver/Resolver.java
index 364093a..010dd1a 100644
--- a/xmvn-core/src/main/java/org/fedoraproject/maven/resolver/Resolver.java
+++ b/xmvn-core/src/main/java/org/fedoraproject/maven/resolver/Resolver.java
@@ -17,7 +17,7 @@ package org.fedoraproject.maven.resolver;
 
 import java.io.File;
 
-import org.eclipse.aether.artifact.Artifact;
+import org.sonatype.aether.artifact.Artifact;
 
 /**
  * Resolves artifacts from system repositories configured in {@code <resolverSettings>} in XMvn configuration.
diff --git a/xmvn-core/src/main/java/org/fedoraproject/maven/resolver/impl/DefaultArtifactBlacklist.java b/xmvn-core/src/main/java/org/fedoraproject/maven/resolver/impl/DefaultArtifactBlacklist.java
index ff5b4c2..ef2e53e 100644
--- a/xmvn-core/src/main/java/org/fedoraproject/maven/resolver/impl/DefaultArtifactBlacklist.java
+++ b/xmvn-core/src/main/java/org/fedoraproject/maven/resolver/impl/DefaultArtifactBlacklist.java
@@ -23,14 +23,14 @@ import org.codehaus.plexus.component.annotations.Component;
 import org.codehaus.plexus.component.annotations.Requirement;
 import org.codehaus.plexus.logging.Logger;
 import org.codehaus.plexus.personality.plexus.lifecycle.phase.Initializable;
-import org.eclipse.aether.artifact.Artifact;
-import org.eclipse.aether.artifact.DefaultArtifact;
 import org.fedoraproject.maven.config.Configurator;
 import org.fedoraproject.maven.config.ResolverSettings;
 import org.fedoraproject.maven.resolver.ArtifactBlacklist;
 import org.fedoraproject.maven.resolver.DependencyMap;
 import org.fedoraproject.maven.utils.ArtifactUtils;
 import org.fedoraproject.maven.utils.LoggingUtils;
+import org.sonatype.aether.artifact.Artifact;
+import org.sonatype.aether.util.artifact.DefaultArtifact;
 
 /**
  * Default implementation of {@code ArtifactBlacklist} container.
diff --git a/xmvn-core/src/main/java/org/fedoraproject/maven/resolver/impl/DefaultDependencyMap.java b/xmvn-core/src/main/java/org/fedoraproject/maven/resolver/impl/DefaultDependencyMap.java
index 28b8ac7..3acaddd 100644
--- a/xmvn-core/src/main/java/org/fedoraproject/maven/resolver/impl/DefaultDependencyMap.java
+++ b/xmvn-core/src/main/java/org/fedoraproject/maven/resolver/impl/DefaultDependencyMap.java
@@ -31,13 +31,13 @@ import org.codehaus.plexus.component.annotations.Requirement;
 import org.codehaus.plexus.logging.Logger;
 import org.codehaus.plexus.personality.plexus.lifecycle.phase.Initializable;
 import org.codehaus.plexus.personality.plexus.lifecycle.phase.InitializationException;
-import org.eclipse.aether.artifact.Artifact;
-import org.eclipse.aether.artifact.DefaultArtifact;
 import org.fedoraproject.maven.config.Configurator;
 import org.fedoraproject.maven.config.ResolverSettings;
 import org.fedoraproject.maven.resolver.DependencyMap;
 import org.fedoraproject.maven.utils.ArtifactUtils;
 import org.fedoraproject.maven.utils.LoggingUtils;
+import org.sonatype.aether.artifact.Artifact;
+import org.sonatype.aether.util.artifact.DefaultArtifact;
 
 /**
  * <strong>WARNING</strong>: This class is part of internal implementation of XMvn and it is marked as public only for
diff --git a/xmvn-core/src/main/java/org/fedoraproject/maven/resolver/impl/DefaultResolver.java b/xmvn-core/src/main/java/org/fedoraproject/maven/resolver/impl/DefaultResolver.java
index 899e560..499c21c 100644
--- a/xmvn-core/src/main/java/org/fedoraproject/maven/resolver/impl/DefaultResolver.java
+++ b/xmvn-core/src/main/java/org/fedoraproject/maven/resolver/impl/DefaultResolver.java
@@ -33,8 +33,6 @@ import org.codehaus.plexus.component.annotations.Requirement;
 import org.codehaus.plexus.logging.Logger;
 import org.codehaus.plexus.personality.plexus.lifecycle.phase.Initializable;
 import org.codehaus.plexus.util.StringUtils;
-import org.eclipse.aether.artifact.Artifact;
-import org.eclipse.aether.artifact.DefaultArtifact;
 import org.fedoraproject.maven.config.Configurator;
 import org.fedoraproject.maven.config.RepositoryConfigurator;
 import org.fedoraproject.maven.config.ResolverSettings;
@@ -48,6 +46,8 @@ import org.fedoraproject.maven.utils.ArtifactUtils;
 import org.fedoraproject.maven.utils.AtomicFileCounter;
 import org.fedoraproject.maven.utils.FileUtils;
 import org.fedoraproject.maven.utils.LoggingUtils;
+import org.sonatype.aether.artifact.Artifact;
+import org.sonatype.aether.util.artifact.DefaultArtifact;
 
 /**
  * Default implementation of XMvn {@code Resolver} interface.
diff --git a/xmvn-core/src/main/java/org/fedoraproject/maven/resolver/impl/DepmapReader.java b/xmvn-core/src/main/java/org/fedoraproject/maven/resolver/impl/DepmapReader.java
index fc592e9..e71903c 100644
--- a/xmvn-core/src/main/java/org/fedoraproject/maven/resolver/impl/DepmapReader.java
+++ b/xmvn-core/src/main/java/org/fedoraproject/maven/resolver/impl/DepmapReader.java
@@ -44,10 +44,10 @@ import javax.xml.parsers.DocumentBuilder;
 import javax.xml.parsers.DocumentBuilderFactory;
 import javax.xml.parsers.ParserConfigurationException;
 
-import org.eclipse.aether.artifact.Artifact;
-import org.eclipse.aether.artifact.DefaultArtifact;
 import org.fedoraproject.maven.resolver.DependencyMap;
 import org.fedoraproject.maven.utils.ArtifactUtils;
+import org.sonatype.aether.artifact.Artifact;
+import org.sonatype.aether.util.artifact.DefaultArtifact;
 import org.w3c.dom.Document;
 import org.w3c.dom.Element;
 import org.w3c.dom.NodeList;
diff --git a/xmvn-core/src/main/java/org/fedoraproject/maven/utils/ArtifactUtils.java b/xmvn-core/src/main/java/org/fedoraproject/maven/utils/ArtifactUtils.java
index 5409e85..38346fd 100644
--- a/xmvn-core/src/main/java/org/fedoraproject/maven/utils/ArtifactUtils.java
+++ b/xmvn-core/src/main/java/org/fedoraproject/maven/utils/ArtifactUtils.java
@@ -26,10 +26,10 @@ import java.util.Map;
 import org.codehaus.plexus.util.StringUtils;
 import org.codehaus.plexus.util.xml.Xpp3Dom;
 import org.codehaus.plexus.util.xml.pull.XmlSerializer;
-import org.eclipse.aether.artifact.Artifact;
-import org.eclipse.aether.artifact.ArtifactType;
-import org.eclipse.aether.artifact.DefaultArtifact;
-import org.eclipse.aether.artifact.DefaultArtifactType;
+import org.sonatype.aether.artifact.Artifact;
+import org.sonatype.aether.artifact.ArtifactType;
+import org.sonatype.aether.util.artifact.DefaultArtifact;
+import org.sonatype.aether.util.artifact.DefaultArtifactType;
 
 /**
  * @author Mikolaj Izdebski
diff --git a/xmvn-core/src/test/java/org/fedoraproject/maven/dependency/AbstractDependencyTest.java b/xmvn-core/src/test/java/org/fedoraproject/maven/dependency/AbstractDependencyTest.java
index 3afe84d..db7abd9 100644
--- a/xmvn-core/src/test/java/org/fedoraproject/maven/dependency/AbstractDependencyTest.java
+++ b/xmvn-core/src/test/java/org/fedoraproject/maven/dependency/AbstractDependencyTest.java
@@ -21,8 +21,8 @@ import java.util.LinkedHashSet;
 import java.util.Set;
 
 import org.codehaus.plexus.PlexusTestCase;
-import org.eclipse.aether.artifact.Artifact;
-import org.eclipse.aether.artifact.DefaultArtifact;
+import org.sonatype.aether.artifact.Artifact;
+import org.sonatype.aether.util.artifact.DefaultArtifact;
 
 /**
  * @author Mikolaj Izdebski
diff --git a/xmvn-core/src/test/java/org/fedoraproject/maven/installer/AbstractInstallerTest.java b/xmvn-core/src/test/java/org/fedoraproject/maven/installer/AbstractInstallerTest.java
index ba98524..653619f 100644
--- a/xmvn-core/src/test/java/org/fedoraproject/maven/installer/AbstractInstallerTest.java
+++ b/xmvn-core/src/test/java/org/fedoraproject/maven/installer/AbstractInstallerTest.java
@@ -31,9 +31,9 @@ import org.apache.maven.model.Parent;
 import org.apache.maven.model.io.xpp3.MavenXpp3Reader;
 import org.codehaus.plexus.PlexusTestCase;
 import org.codehaus.plexus.logging.Logger;
-import org.eclipse.aether.artifact.Artifact;
-import org.eclipse.aether.artifact.DefaultArtifact;
 import org.fedoraproject.maven.utils.ArtifactUtils;
+import org.sonatype.aether.artifact.Artifact;
+import org.sonatype.aether.util.artifact.DefaultArtifact;
 
 /**
  * @author Mikolaj Izdebski
diff --git a/xmvn-core/src/test/java/org/fedoraproject/maven/installer/BasicIvyInstallerTest.java b/xmvn-core/src/test/java/org/fedoraproject/maven/installer/BasicIvyInstallerTest.java
index 4af3ffb..cfbe2b2 100644
--- a/xmvn-core/src/test/java/org/fedoraproject/maven/installer/BasicIvyInstallerTest.java
+++ b/xmvn-core/src/test/java/org/fedoraproject/maven/installer/BasicIvyInstallerTest.java
@@ -21,9 +21,9 @@ import java.nio.file.Files;
 import java.nio.file.Path;
 import java.nio.file.Paths;
 
-import org.eclipse.aether.artifact.Artifact;
-import org.eclipse.aether.artifact.DefaultArtifact;
 import org.fedoraproject.maven.utils.ArtifactUtils;
+import org.sonatype.aether.artifact.Artifact;
+import org.sonatype.aether.util.artifact.DefaultArtifact;
 
 /**
  * @author Mikolaj Izdebski
diff --git a/xmvn-core/src/test/java/org/fedoraproject/maven/installer/IvyInstallerExclusionTest.java b/xmvn-core/src/test/java/org/fedoraproject/maven/installer/IvyInstallerExclusionTest.java
index 8ae7564..ce7ccc8 100644
--- a/xmvn-core/src/test/java/org/fedoraproject/maven/installer/IvyInstallerExclusionTest.java
+++ b/xmvn-core/src/test/java/org/fedoraproject/maven/installer/IvyInstallerExclusionTest.java
@@ -21,9 +21,9 @@ import java.nio.file.Files;
 import java.nio.file.Path;
 import java.nio.file.Paths;
 
-import org.eclipse.aether.artifact.Artifact;
-import org.eclipse.aether.artifact.DefaultArtifact;
 import org.fedoraproject.maven.utils.ArtifactUtils;
+import org.sonatype.aether.artifact.Artifact;
+import org.sonatype.aether.util.artifact.DefaultArtifact;
 
 /**
  * @author Mikolaj Izdebski
diff --git a/xmvn-core/src/test/java/org/fedoraproject/maven/repository/FlatRepositoryTest.java b/xmvn-core/src/test/java/org/fedoraproject/maven/repository/FlatRepositoryTest.java
index 564a7b7..c32fba2 100644
--- a/xmvn-core/src/test/java/org/fedoraproject/maven/repository/FlatRepositoryTest.java
+++ b/xmvn-core/src/test/java/org/fedoraproject/maven/repository/FlatRepositoryTest.java
@@ -18,12 +18,12 @@ package org.fedoraproject.maven.repository;
 import java.nio.file.Paths;
 
 import org.codehaus.plexus.PlexusTestCase;
-import org.eclipse.aether.artifact.Artifact;
-import org.eclipse.aether.artifact.DefaultArtifact;
 import org.fedoraproject.maven.config.Configuration;
 import org.fedoraproject.maven.config.Configurator;
 import org.fedoraproject.maven.config.Repository;
 import org.fedoraproject.maven.config.RepositoryConfigurator;
+import org.sonatype.aether.artifact.Artifact;
+import org.sonatype.aether.util.artifact.DefaultArtifact;
 
 /**
  * @author Mikolaj Izdebski
diff --git a/xmvn-core/src/test/java/org/fedoraproject/maven/repository/JppRepositoryTest.java b/xmvn-core/src/test/java/org/fedoraproject/maven/repository/JppRepositoryTest.java
index 9f9224e..d883238 100644
--- a/xmvn-core/src/test/java/org/fedoraproject/maven/repository/JppRepositoryTest.java
+++ b/xmvn-core/src/test/java/org/fedoraproject/maven/repository/JppRepositoryTest.java
@@ -18,12 +18,12 @@ package org.fedoraproject.maven.repository;
 import java.nio.file.Paths;
 
 import org.codehaus.plexus.PlexusTestCase;
-import org.eclipse.aether.artifact.Artifact;
-import org.eclipse.aether.artifact.DefaultArtifact;
 import org.fedoraproject.maven.config.Configuration;
 import org.fedoraproject.maven.config.Configurator;
 import org.fedoraproject.maven.config.Repository;
 import org.fedoraproject.maven.config.RepositoryConfigurator;
+import org.sonatype.aether.artifact.Artifact;
+import org.sonatype.aether.util.artifact.DefaultArtifact;
 
 /**
  * @author Mikolaj Izdebski
diff --git a/xmvn-core/src/test/java/org/fedoraproject/maven/repository/LayoutTest.java b/xmvn-core/src/test/java/org/fedoraproject/maven/repository/LayoutTest.java
index a346e4e..ad9f44c 100644
--- a/xmvn-core/src/test/java/org/fedoraproject/maven/repository/LayoutTest.java
+++ b/xmvn-core/src/test/java/org/fedoraproject/maven/repository/LayoutTest.java
@@ -20,8 +20,8 @@ import java.util.Set;
 import java.util.TreeSet;
 
 import org.codehaus.plexus.PlexusTestCase;
-import org.eclipse.aether.artifact.Artifact;
-import org.eclipse.aether.artifact.DefaultArtifact;
+import org.sonatype.aether.artifact.Artifact;
+import org.sonatype.aether.util.artifact.DefaultArtifact;
 
 /**
  * @author Mikolaj Izdebski
diff --git a/xmvn-core/src/test/java/org/fedoraproject/maven/repository/MavenRepositoryTest.java b/xmvn-core/src/test/java/org/fedoraproject/maven/repository/MavenRepositoryTest.java
index b1ad50c..a2bd9e2 100644
--- a/xmvn-core/src/test/java/org/fedoraproject/maven/repository/MavenRepositoryTest.java
+++ b/xmvn-core/src/test/java/org/fedoraproject/maven/repository/MavenRepositoryTest.java
@@ -18,12 +18,12 @@ package org.fedoraproject.maven.repository;
 import java.nio.file.Paths;
 
 import org.codehaus.plexus.PlexusTestCase;
-import org.eclipse.aether.artifact.Artifact;
-import org.eclipse.aether.artifact.DefaultArtifact;
 import org.fedoraproject.maven.config.Configuration;
 import org.fedoraproject.maven.config.Configurator;
 import org.fedoraproject.maven.config.Repository;
 import org.fedoraproject.maven.config.RepositoryConfigurator;
+import org.sonatype.aether.artifact.Artifact;
+import org.sonatype.aether.util.artifact.DefaultArtifact;
 
 /**
  * @author Mikolaj Izdebski
diff --git a/xmvn-core/src/test/java/org/fedoraproject/maven/repository/MyRepository.java b/xmvn-core/src/test/java/org/fedoraproject/maven/repository/MyRepository.java
index 2e66d1c..6eaefbe 100644
--- a/xmvn-core/src/test/java/org/fedoraproject/maven/repository/MyRepository.java
+++ b/xmvn-core/src/test/java/org/fedoraproject/maven/repository/MyRepository.java
@@ -25,8 +25,8 @@ import java.util.Properties;
 
 import org.codehaus.plexus.component.annotations.Component;
 import org.codehaus.plexus.util.xml.Xpp3Dom;
-import org.eclipse.aether.artifact.Artifact;
 import org.fedoraproject.maven.config.Stereotype;
+import org.sonatype.aether.artifact.Artifact;
 
 @Component( role = Repository.class, hint = "my-type" )
 public class MyRepository
diff --git a/xmvn-core/src/test/java/org/fedoraproject/maven/repository/NestedRepositoriesTest.java b/xmvn-core/src/test/java/org/fedoraproject/maven/repository/NestedRepositoriesTest.java
index 2d096f2..a2704ed 100644
--- a/xmvn-core/src/test/java/org/fedoraproject/maven/repository/NestedRepositoriesTest.java
+++ b/xmvn-core/src/test/java/org/fedoraproject/maven/repository/NestedRepositoriesTest.java
@@ -21,13 +21,13 @@ import java.util.Iterator;
 
 import org.codehaus.plexus.PlexusTestCase;
 import org.codehaus.plexus.util.xml.Xpp3Dom;
-import org.eclipse.aether.artifact.Artifact;
-import org.eclipse.aether.artifact.DefaultArtifact;
 import org.fedoraproject.maven.config.Configuration;
 import org.fedoraproject.maven.config.Configurator;
 import org.fedoraproject.maven.config.Repository;
 import org.fedoraproject.maven.config.RepositoryConfigurator;
 import org.fedoraproject.maven.config.Stereotype;
+import org.sonatype.aether.artifact.Artifact;
+import org.sonatype.aether.util.artifact.DefaultArtifact;
 
 /**
  * @author Mikolaj Izdebski
diff --git a/xmvn-core/src/test/java/org/fedoraproject/maven/resolver/DepmapTest.java b/xmvn-core/src/test/java/org/fedoraproject/maven/resolver/DepmapTest.java
index 04ea28b..f5012d3 100644
--- a/xmvn-core/src/test/java/org/fedoraproject/maven/resolver/DepmapTest.java
+++ b/xmvn-core/src/test/java/org/fedoraproject/maven/resolver/DepmapTest.java
@@ -23,10 +23,10 @@ import java.nio.file.Paths;
 import java.util.List;
 
 import org.codehaus.plexus.PlexusTestCase;
-import org.eclipse.aether.artifact.Artifact;
-import org.eclipse.aether.artifact.DefaultArtifact;
 import org.fedoraproject.maven.config.Configurator;
 import org.fedoraproject.maven.config.ResolverSettings;
+import org.sonatype.aether.artifact.Artifact;
+import org.sonatype.aether.util.artifact.DefaultArtifact;
 
 /**
  * @author Mikolaj Izdebski
diff --git a/xmvn-mojo/pom.xml b/xmvn-mojo/pom.xml
index f87c53f..14505d2 100644
--- a/xmvn-mojo/pom.xml
+++ b/xmvn-mojo/pom.xml
@@ -72,9 +72,13 @@
       <artifactId>org.eclipse.sisu.plexus</artifactId>
     </dependency>
     <dependency>
-      <groupId>org.eclipse.aether</groupId>
+      <groupId>org.sonatype.aether</groupId>
       <artifactId>aether-api</artifactId>
     </dependency>
+    <dependency>
+      <groupId>org.sonatype.aether</groupId>
+      <artifactId>aether-util</artifactId>
+    </dependency>
   </dependencies>
   <build>
     <plugins>
diff --git a/xmvn-mojo/src/main/java/org/fedoraproject/maven/rpminstall/plugin/BuilddepMojo.java b/xmvn-mojo/src/main/java/org/fedoraproject/maven/rpminstall/plugin/BuilddepMojo.java
index 771ee51..48a8008 100644
--- a/xmvn-mojo/src/main/java/org/fedoraproject/maven/rpminstall/plugin/BuilddepMojo.java
+++ b/xmvn-mojo/src/main/java/org/fedoraproject/maven/rpminstall/plugin/BuilddepMojo.java
@@ -34,7 +34,6 @@ import org.codehaus.plexus.component.annotations.Component;
 import org.codehaus.plexus.component.annotations.Requirement;
 import org.codehaus.plexus.util.xml.pull.MXSerializer;
 import org.codehaus.plexus.util.xml.pull.XmlSerializer;
-import org.eclipse.aether.artifact.Artifact;
 import org.fedoraproject.maven.config.Configurator;
 import org.fedoraproject.maven.dependency.DependencyExtractionRequest;
 import org.fedoraproject.maven.dependency.DependencyExtractionResult;
@@ -44,6 +43,7 @@ import org.fedoraproject.maven.resolver.ResolutionRequest;
 import org.fedoraproject.maven.resolver.ResolutionResult;
 import org.fedoraproject.maven.resolver.Resolver;
 import org.fedoraproject.maven.utils.ArtifactUtils;
+import org.sonatype.aether.artifact.Artifact;
 
 /**
  * @author Mikolaj Izdebski
diff --git a/xmvn-mojo/src/main/java/org/fedoraproject/maven/rpminstall/plugin/InstallMojo.java b/xmvn-mojo/src/main/java/org/fedoraproject/maven/rpminstall/plugin/InstallMojo.java
index ae95028..f57d919 100644
--- a/xmvn-mojo/src/main/java/org/fedoraproject/maven/rpminstall/plugin/InstallMojo.java
+++ b/xmvn-mojo/src/main/java/org/fedoraproject/maven/rpminstall/plugin/InstallMojo.java
@@ -45,9 +45,9 @@ import org.codehaus.plexus.util.xml.Xpp3DomBuilder;
 import org.codehaus.plexus.util.xml.pull.MXSerializer;
 import org.codehaus.plexus.util.xml.pull.XmlPullParserException;
 import org.codehaus.plexus.util.xml.pull.XmlSerializer;
-import org.eclipse.aether.artifact.Artifact;
-import org.eclipse.aether.artifact.DefaultArtifact;
 import org.fedoraproject.maven.utils.ArtifactUtils;
+import org.sonatype.aether.artifact.Artifact;
+import org.sonatype.aether.util.artifact.DefaultArtifact;
 
 /**
  * @author Mikolaj Izdebski
diff --git a/xmvn-mojo/src/main/java/org/fedoraproject/maven/rpminstall/plugin/Utils.java b/xmvn-mojo/src/main/java/org/fedoraproject/maven/rpminstall/plugin/Utils.java
index b6aa8c8..2419177 100644
--- a/xmvn-mojo/src/main/java/org/fedoraproject/maven/rpminstall/plugin/Utils.java
+++ b/xmvn-mojo/src/main/java/org/fedoraproject/maven/rpminstall/plugin/Utils.java
@@ -26,9 +26,9 @@ import org.apache.maven.artifact.handler.ArtifactHandler;
 import org.apache.maven.model.Model;
 import org.apache.maven.model.io.xpp3.MavenXpp3Writer;
 import org.codehaus.plexus.util.StringUtils;
-import org.eclipse.aether.artifact.Artifact;
-import org.eclipse.aether.artifact.DefaultArtifact;
 import org.fedoraproject.maven.utils.ArtifactUtils;
+import org.sonatype.aether.artifact.Artifact;
+import org.sonatype.aether.util.artifact.DefaultArtifact;
 
 /**
  * @author Mikolaj Izdebski
diff --git a/xmvn-parent/pom.xml b/xmvn-parent/pom.xml
index a0aef7f..9b3030b 100644
--- a/xmvn-parent/pom.xml
+++ b/xmvn-parent/pom.xml
@@ -74,11 +74,11 @@
   <properties>
     <project.build.sourceEncoding>US-ASCII</project.build.sourceEncoding>
 
-    <aetherVersion>0.9.0.M3</aetherVersion>
+    <aetherVersion>1.13.1</aetherVersion>
     <ivyVersion>2.3.0</ivyVersion>
     <jcommanderVersion>1.32</jcommanderVersion>
     <mavenInvokerVersion>2.1.1</mavenInvokerVersion>
-    <mavenVersion>3.1.1</mavenVersion>
+    <mavenVersion>3.0.5</mavenVersion>
     <plexusUtilsVersion>3.0.15</plexusUtilsVersion>
     <plexusVersion>1.5.5</plexusVersion>
     <pluginToolsVersion>3.2</pluginToolsVersion>
@@ -136,11 +136,16 @@
         <version>${mavenVersion}</version>
       </dependency>
       <dependency>
-        <groupId>org.eclipse.aether</groupId>
+        <groupId>org.sonatype.aether</groupId>
         <artifactId>aether-api</artifactId>
         <version>${aetherVersion}</version>
       </dependency>
       <dependency>
+        <groupId>org.sonatype.aether</groupId>
+        <artifactId>aether-util</artifactId>
+        <version>${aetherVersion}</version>
+      </dependency>
+      <dependency>
         <groupId>org.apache.maven.plugin-tools</groupId>
         <artifactId>maven-plugin-annotations</artifactId>
         <version>${pluginToolsVersion}</version>
diff --git a/xmvn-tools/xmvn-install/pom.xml b/xmvn-tools/xmvn-install/pom.xml
index e117776..da1bb43 100644
--- a/xmvn-tools/xmvn-install/pom.xml
+++ b/xmvn-tools/xmvn-install/pom.xml
@@ -33,10 +33,14 @@
   </description>
   <dependencies>
     <dependency>
-      <groupId>org.eclipse.aether</groupId>
+      <groupId>org.sonatype.aether</groupId>
       <artifactId>aether-api</artifactId>
     </dependency>
     <dependency>
+      <groupId>org.sonatype.aether</groupId>
+      <artifactId>aether-util</artifactId>
+    </dependency>
+    <dependency>
       <groupId>org.codehaus.plexus</groupId>
       <artifactId>plexus-utils</artifactId>
     </dependency>
diff --git a/xmvn-tools/xmvn-install/src/main/java/org/fedoraproject/maven/tools/installer/InstallerCli.java b/xmvn-tools/xmvn-install/src/main/java/org/fedoraproject/maven/tools/installer/InstallerCli.java
index 1fef93d..5541eb7 100644
--- a/xmvn-tools/xmvn-install/src/main/java/org/fedoraproject/maven/tools/installer/InstallerCli.java
+++ b/xmvn-tools/xmvn-install/src/main/java/org/fedoraproject/maven/tools/installer/InstallerCli.java
@@ -32,12 +32,12 @@ import org.codehaus.plexus.DefaultPlexusContainer;
 import org.codehaus.plexus.util.xml.Xpp3Dom;
 import org.codehaus.plexus.util.xml.Xpp3DomBuilder;
 import org.codehaus.plexus.util.xml.pull.XmlPullParserException;
-import org.eclipse.aether.artifact.Artifact;
-import org.eclipse.aether.artifact.DefaultArtifact;
 import org.fedoraproject.maven.installer.InstallationRequest;
 import org.fedoraproject.maven.installer.Installer;
 import org.fedoraproject.maven.utils.ArtifactUtils;
 import org.fedoraproject.maven.utils.LoggingUtils;
+import org.sonatype.aether.artifact.Artifact;
+import org.sonatype.aether.util.artifact.DefaultArtifact;
 
 import com.beust.jcommander.DynamicParameter;
 import com.beust.jcommander.JCommander;
diff --git a/xmvn-tools/xmvn-resolve/pom.xml b/xmvn-tools/xmvn-resolve/pom.xml
index 7cae6e5..f6dfb24 100644
--- a/xmvn-tools/xmvn-resolve/pom.xml
+++ b/xmvn-tools/xmvn-resolve/pom.xml
@@ -36,8 +36,12 @@
   </description>
   <dependencies>
     <dependency>
-      <groupId>org.eclipse.aether</groupId>
+      <groupId>org.sonatype.aether</groupId>
       <artifactId>aether-api</artifactId>
     </dependency>
+    <dependency>
+      <groupId>org.sonatype.aether</groupId>
+      <artifactId>aether-util</artifactId>
+    </dependency>
   </dependencies>
 </project>
diff --git a/xmvn-tools/xmvn-resolve/src/main/java/org/fedoraproject/maven/tools/resolver/ResolverCli.java b/xmvn-tools/xmvn-resolve/src/main/java/org/fedoraproject/maven/tools/resolver/ResolverCli.java
index a3df870..b0a8f58 100644
--- a/xmvn-tools/xmvn-resolve/src/main/java/org/fedoraproject/maven/tools/resolver/ResolverCli.java
+++ b/xmvn-tools/xmvn-resolve/src/main/java/org/fedoraproject/maven/tools/resolver/ResolverCli.java
@@ -25,11 +25,11 @@ import java.util.TreeMap;
 
 import org.codehaus.plexus.DefaultPlexusContainer;
 import org.codehaus.plexus.logging.Logger;
-import org.eclipse.aether.artifact.Artifact;
-import org.eclipse.aether.artifact.DefaultArtifact;
 import org.fedoraproject.maven.resolver.ResolutionRequest;
 import org.fedoraproject.maven.resolver.Resolver;
 import org.fedoraproject.maven.utils.LoggingUtils;
+import org.sonatype.aether.artifact.Artifact;
+import org.sonatype.aether.util.artifact.DefaultArtifact;
 
 import com.beust.jcommander.DynamicParameter;
 import com.beust.jcommander.JCommander;
diff --git a/xmvn-tools/xmvn-subst/pom.xml b/xmvn-tools/xmvn-subst/pom.xml
index dc6c3ab..d91ee86 100644
--- a/xmvn-tools/xmvn-subst/pom.xml
+++ b/xmvn-tools/xmvn-subst/pom.xml
@@ -33,10 +33,14 @@
   </description>
   <dependencies>
     <dependency>
-      <groupId>org.eclipse.aether</groupId>
+      <groupId>org.sonatype.aether</groupId>
       <artifactId>aether-api</artifactId>
     </dependency>
     <dependency>
+      <groupId>org.sonatype.aether</groupId>
+      <artifactId>aether-util</artifactId>
+    </dependency>
+    <dependency>
       <groupId>org.codehaus.plexus</groupId>
       <artifactId>plexus-component-annotations</artifactId>
     </dependency>
diff --git a/xmvn-tools/xmvn-subst/src/main/java/org/fedoraproject/maven/tools/subst/ArtifactVisitor.java b/xmvn-tools/xmvn-subst/src/main/java/org/fedoraproject/maven/tools/subst/ArtifactVisitor.java
index 5755401..86d2d60 100644
--- a/xmvn-tools/xmvn-subst/src/main/java/org/fedoraproject/maven/tools/subst/ArtifactVisitor.java
+++ b/xmvn-tools/xmvn-subst/src/main/java/org/fedoraproject/maven/tools/subst/ArtifactVisitor.java
@@ -36,12 +36,12 @@ import java.util.zip.ZipInputStream;
 import org.codehaus.plexus.component.annotations.Component;
 import org.codehaus.plexus.component.annotations.Requirement;
 import org.codehaus.plexus.logging.Logger;
-import org.eclipse.aether.artifact.Artifact;
-import org.eclipse.aether.artifact.DefaultArtifact;
 import org.fedoraproject.maven.resolver.ResolutionRequest;
 import org.fedoraproject.maven.resolver.Resolver;
 import org.fedoraproject.maven.utils.ArtifactUtils;
 import org.fedoraproject.maven.utils.FileUtils;
+import org.sonatype.aether.artifact.Artifact;
+import org.sonatype.aether.util.artifact.DefaultArtifact;
 
 @Component( role = ArtifactVisitor.class )
 public class ArtifactVisitor
-- 
1.8.4.2

